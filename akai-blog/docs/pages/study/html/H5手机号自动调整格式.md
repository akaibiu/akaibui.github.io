# :pig_nose: H5æ‰‹æœºå·è‡ªåŠ¨è°ƒæ•´æ ¼å¼



>åœ¨æ—¥å¸¸å·¥ä½œæˆ–è€…å¼€å‘ä¸­ï¼Œéš¾å…ä¼šé‡åˆ°æ‰‹æœºå·è¾“å…¥çš„æ¡ˆä¾‹ï¼Œä¸€èµ·çœ‹çœ‹å§....



```html
<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no, viewport-fit=cover" />
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>å¾®ä¿¡æ”¯ä»˜</title>
	<!-- <link rel="stylesheet" href="./css/reset.css"> -->
</head>

<body>
	<div id="main">
		<header>
			xxxx
		</header>
		<main>
			<div class="iptBox">
				<input type="text" placeholder="è¯·è¾“å…¥æ‚¨çš„å……å€¼è´¦å·!" id="ipt">
				<div class="info">
					<span class="errTip"></span>
				</div>
			</div>
		</main>
		<footer>
			<button id="payBtn">æ”¯ä»˜</button>
		</footer>
	</div>
	<script>
		const waitDuration=500;
		//è·å–domèŠ‚ç‚¹,ä¸ºæŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶(åŠ å…¥èŠ‚æµåŠŸèƒ½å‡½æ•°)
		var payBtn = document.querySelector('#payBtn');
		var telPhoneVal=document.querySelector('#ipt');
		var errTip=document.querySelector('.errTip');
		//å®šä¹‰ä¸¤ä¸ªç¼“å­˜å€¼
		var firstLen = 0;
        var lastLen = 0;
        var reg = /^1(3|4|5|7|8)\d{9}$/;
		payBtn.addEventListener("click", clickFn(clickEvent, waitDuration));

		// èŠ‚æµåŠŸèƒ½å‡½æ•°,é˜²æ­¢ç”¨æˆ·å¤šæ¬¡è§¦å‘
		function clickFn(fn, delay) {
			let timer;
			return function () { // è¿™é‡Œæ˜¯æ ‡ç­¾çš„ç‚¹å‡»äº‹ä»¶è°ƒç”¨è¯¥åŒ¿åå‡½æ•°ï¼Œæ‰€ä»¥è¯¥åŒ¿åå‡½æ•°æŒ‡å‘<button id="clickEventDom">ç‚¹å‡»</button>
				if (timer) {
					return;
				}
				let that = this;
				let arg = arguments;
				timer = setTimeout(function () {
					fn.apply(that, arg);
					timer = null;
				}, delay)
			}
		};

		// æ”¯ä»˜å‡½æ•°,ä»¥ä¸‹ä¸ºæ”¯ä»˜ä¸šåŠ¡åŠŸèƒ½ä»£ç 
		function clickEvent() {
			console.log('æ”¯ä»˜åŠŸèƒ½');
			window.location.href='./success.html';
		};

		// æ‰‹æœºå·éªŒè¯
		telPhoneVal.oninput = function () {
            telPhoneVal.value = telPhoneVal.value.substr(0, 13); //åªå…è®¸è¾“å…¥11ä½+2ä¸ªç©ºæ ¼
            //ç”¨æˆ·è¾“å…¥æ»¡11ä½å¼€å§‹éªŒè¯
            if (telPhoneVal.value.length == 13) {
                //å°†æ•°æ®å»æ‰ç©ºæ ¼åéªŒè¯
                if (!reg.test(telPhoneVal.value.replace(/\s/g, ''))) {
                    errTip.innerHTML = '*'+' '+'æ‚¨è¾“å…¥çš„æ‰‹æœºè´¦å·æœ‰è¯¯,è¯·é‡æ–°è¾“å…¥'
                } else {
                    errTip.innerHTML = ''
                }
            } else {
                errTip.innerHTML = ''
            }
        };
		// æ‰‹æœºå·å››ä½åˆ†å‰²
        telPhoneVal.onfocus = function () {
            timer = setInterval(function () {
                lastLen = telPhoneVal.value.length;
                if (lastLen > firstLen) {
                    firstLen = telPhoneVal.value.length;
                    if (lastLen === 4 || lastLen === 9) {
                        var temp1 = telPhoneVal.value.substr(0, telPhoneVal.value.length - 1);
                        var temp2 = telPhoneVal.value.substr(telPhoneVal.value.length - 1);
                        telPhoneVal.value = temp1 + ' ' + temp2;
                    }
                } else if (lastLen <= firstLen) {
                    if (lastLen === 4 || lastLen === 9) {
                        telPhoneVal.value = telPhoneVal.value.substr(0, telPhoneVal.value.length - 1);
                    }
                    firstLen = telPhoneVal.value.length;
                }
            }, 10); //å¦‚æœæ‰‹æœºå‡ºç°å¡é¡¿ï¼Œå¯é€‚å½“æŠŠå®šæ—¶å™¨æ—¶é—´åŠ å¤§
        }
	</script>
	<style>
		* {
			padding: 0;
			margin: 0;
		}

		body,
		html {
			width: 100%;
			height: 100%;
		}
		
		#main {
			width: 100%;
			height: 100%;
			background-color: #f2f2f2;
			display: flex;
			justify-content: space-between;
			flex-wrap: nowrap;
			flex-direction: column;
		}

		header {
			height: 26px;
			width: 100%;
			background-color: #f2f2f2;
			display: flex;
			justify-content: center;
			align-items: center;
			font-size: 16px;
			font-family: 'Courier New', Courier, monospace;
			color: #333;
			font-weight: bolder;
		}

		main {
			flex: 1;
			width: 100%;
			height: 100%;
			overflow-y: scroll;
			background: #fff;
		}
		.iptBox{
			display: flex;
			height: 22%;
			width: 100%;
			flex-direction: column;
			justify-content: center;
			align-items: center;
		}
		.iptBox input{
			display: inline;
			height: 50px;
			width: 80%;
			outline: none;
			border: none;
			border-bottom: 1px solid #a8a8a8;
			font-size: 26px;
			font-weight: bolder;
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}
		.info{
			width: 80%;
			margin: 0 auto;
			height: 40px;
			margin-top: 5px;
			color: #f55c64;
			font-size: 13px;
		}

		footer {
			height: 50px;
			width: 100%;
			background-color: rgba(255, 255, 255, 0.4);
			display: flex;
			justify-content: center;
			align-items: center;
		}

		button {
			width: 140px;
			line-height: 38px;
			text-align: center;
			font-weight: bold;
			color: #fff;
			text-shadow: 1px 1px 1px #333;
			border-radius: 5px;
			position: relative;
			overflow: hidden;
			border: 1px solid #64c878;
			box-shadow: 0 1px 2px #b9ecc4 inset, 0 -1px 0 #6c9f76 inset, 0 -2px 3px #b9ecc4 inset;
			background: -webkit-linear-gradient(top, #90dfa2, #84d494);
			background: -moz-linear-gradient(top, #90dfa2, #84d494);
			background: linear-gradient(top, #90dfa2, #84d494);
		}

		button:hover {
			background: -webkit-linear-gradient(top, #aaebb9, #82d392);
			background: -moz-linear-gradient(top, #aaebb9, #82d392);
			background: linear-gradient(top, #aaebb9, #82d392);
		}
	</style>
</body>

</html>

```

<font color="#dd00dd">ä»¥ä¸Šåªæ˜¯ä¸€ä¸ªç®€å•æ¡ˆä¾‹ï¼Œæ¨¡æ‹Ÿæ­£åˆ™éªŒè¯ï¼Œè¾“å…¥ç©ºæ ¼</font><br />


![alt ç¤ºä¾‹å›¾ç‰‡](/img/study/javascript/H5æ‰‹æœºå·è‡ªåŠ¨è°ƒæ•´æ ¼å¼/demo.jpg)




* å¥½äº†ï¼Œä»¥ä¸Šçš„æ€»ç»“å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œå¦‚æœ`æœ‰ç–‘é—®å¯ä»¥ä¸é—®`ä¹Ÿå¯ä»¥è”ç³»ä½œè€…ã€‚å’±ä»¬ä¸‹æœŸå†è§! Good bye! ğŸŒ¸